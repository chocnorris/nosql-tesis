CREATE DATABASE forum;
USE forum;

CREATE TABLE Authors (
	id INTEGER AUTO_INCREMENT NOT NULL,
	Name VARCHAR(45) NOT NULL,

	PRIMARY KEY (id)
) ENGINE = InnoDB;

CREATE TABLE Threads (
	id INTEGER AUTO_INCREMENT NOT NULL,
	id_author INTEGER NOT NULL,
	Title VARCHAR(45) NOT NULL,
	
	PRIMARY KEY (id),
	FOREIGN KEY(id_author) REFERENCES Authors(id)
) ENGINE = InnoDB;

CREATE TABLE Comments (
	id INTEGER AUTO_INCREMENT NOT NULL,
	id_author INTEGER NOT NULL,
	Text VARCHAR(45) NOT NULL,
	id_thread INTEGER NOT NULL,
	id_parent INTEGER NOT NULL,
	
	PRIMARY KEY (id),
	FOREIGN KEY(id_author) REFERENCES Authors(id)
) ENGINE = InnoDB;

	CREATE USER 'forum' IDENTIFIED BY '123';
	GRANT ALL PRIVILEGES ON sanidadDB.* TO 'forum' WITH GRANT OPTION;